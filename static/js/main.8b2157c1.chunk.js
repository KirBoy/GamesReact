(this.webpackJsonpgames=this.webpackJsonpgames||[]).push([[0],{11:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),i=a.n(r),c=(a(31),a(32),a(5)),o=a(3),l=(a(11),a(1)),d=function(){return Object(l.jsxs)("div",{className:"main__inner",children:[Object(l.jsx)("h1",{className:"title",children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0438\u0433\u0440\u0443"}),Object(l.jsxs)("ul",{className:"list",children:[Object(l.jsx)("div",{className:"choice",children:Object(l.jsx)(c.b,{to:"/memorygame/",children:"\u041d\u0430\u0439\u0434\u0438 \u043f\u0430\u0440\u0443"})}),Object(l.jsx)("div",{className:"choice",children:Object(l.jsx)(c.b,{to:"/pytnashki/",children:"\u041f\u044f\u0442\u043d\u0430\u0448\u043a\u0438"})}),Object(l.jsx)("div",{className:"choice",children:Object(l.jsx)(c.b,{className:"name",to:"/witcher/",children:"\u0412\u0435\u0434\u044c\u043c\u0430\u043a 3"})})]})]})},u=a(13),h=a(14),m=a(17),p=a(16),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={redirect:!1},n.video=s.a.createRef(),n}return Object(h.a)(a,[{key:"redirect",value:function(){this.setState({redirect:!0})}},{key:"componentDidMount",value:function(){this.video.current.volume="0.2",this.video.current.autoplay=!0}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(l.jsx)(o.a,{to:"/"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("video",{ref:this.video,className:"video",src:"../video.mp4",onClick:function(){return e.redirect()}}),Object(l.jsx)("span",{className:"sorry",children:":))))))))"})," ",Object(l.jsx)("span",{className:"notification",children:"\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043b\u044e\u0431\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438"})]})}}]),a}(s.a.Component),b=a(15),O=a(10),v=function(e){return Object(l.jsxs)("div",{className:"result",children:[Object(l.jsx)("p",{className:"result__text",children:"\u0422\u044b \u043f\u0440\u043e\u0448\u0435\u043b \u0438\u0433\u0440\u0443"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"again",onClick:function(){return e.playAgain(),void e.initInner()},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e."}),Object(l.jsx)(c.b,{to:"/",children:"home"})]})]})},N=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).list=s.a.createRef(),n.props.playAgain(),n.props.initInner(),console.log(n.props),n}return Object(h.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){var n=e.pytnashki.cards;return n.map((function(e,t){return n.filter((function(a,s){return n[t+1+s]<e})).length})).reduce((function(e,t){return e+t}))%2===0||(this.props.playAgain(),!0)}},{key:"countDone",value:function(){for(var e=[],t=0;t<4;t++)for(var a=0;a<4;a++)void 0!==this.list.current.childNodes[t].childNodes[a].childNodes[0]?e.push(+this.list.current.childNodes[t].childNodes[a].childNodes[0].getAttribute("src").split(".")[3]):e.push("");JSON.stringify(e)===JSON.stringify(this.props.pytnashki.result)&&this.props.gameResult()}},{key:"move",value:function(e){var t=e.nativeEvent.path,a=e.target.parentElement.getAttribute("data-y"),n=e.target.parentElement.getAttribute("data-x"),s=t[1].innerHTML.split(".")[3];try{var r;if(""===t[3].children[a-2].children[n-1].innerHTML)this.props.moveCard((r={},Object(O.a)(r,a+""+n,null),Object(O.a)(r,a-1+""+n,+s),r)),t[1].classList.add("last"),t[3].children[a-2].children[n-1].classList.remove("last")}catch(l){}try{var i;if(""===t[3].children[a].children[n-1].innerHTML)this.props.moveCard((i={},Object(O.a)(i,a+""+n,null),Object(O.a)(i,+a+1+""+n,+s),i)),t[1].classList.add("last"),t[3].children[a].children[n-1].classList.remove("last")}catch(l){}try{var c;if(""===t[2].children[n].innerHTML)this.props.moveCard((c={},Object(O.a)(c,a+""+n,null),Object(O.a)(c,a+""+(+n+1),+s),c)),t[1].classList.add("last"),t[2].children[n].classList.remove("last")}catch(l){}try{var o;if(""===t[2].children[n-2].innerHTML)this.props.moveCard((o={},Object(O.a)(o,a+""+n,null),Object(O.a)(o,a+""+n-1,+s),o)),t[1].classList.add("last"),t[2].children[n-2].classList.remove("last")}catch(l){}}},{key:"componentDidUpdate",value:function(e){this.props.pytnashki.cardsInner!==e.pytnashki.cardsInner&&this.countDone()}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[this.props.pytnashki.gameComplited?Object(l.jsx)(v,{playAgain:this.props.playAgain,initInner:this.props.initInner}):null,Object(l.jsx)("ul",{className:"list display-block",ref:this.list,onClick:function(t){return e.move(t)},children:this.props.pytnashki.row.map((function(t,a){return Object(l.jsx)(f,{y:t,row:e.props.pytnashki.row,cardsInner:e.props.pytnashki.cardsInner},a)}))}),Object(l.jsx)(c.b,{className:"home-main",exact:!0,to:"/",children:"home"})]})}}]),a}(s.a.Component),f=function(e){return Object(l.jsx)("li",{className:"row",children:e.row.map((function(t,a){return Object(l.jsx)(g,{y:e.y,x:t,cardsInner:e.cardsInner},a)}))})},g=function(e){var t=e.y+""+e.x,a="../numbers/img."+e.cardsInner[t]+".png";return Object(l.jsx)("div",{className:"number","data-y":e.y,"data-x":e.x,children:e.cardsInner[t]&&Object(l.jsx)("img",{className:"card",src:a,"data-y":e.y,"data-x":e.x,alt:a})})},y=N,x=a(4),k="PLAY_AGAIN",I="GAME_DONE",L="INIT_INNER",A="MOVE_CARD",C="SET_GAME",S={cards:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],row:[1,2,3,4],result:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,""],cardsInner:{11:null,12:null,13:null,14:null,21:null,22:null,23:null,24:null,31:null,32:null,33:null,34:null,41:null,42:null,43:null,44:null},gameComplited:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case C:return Object(x.a)(Object(x.a)({},e),{},{cards:e.cards.sort((function(){return Math.random()-.5})),gameComplited:!1});case L:var a=e.cardsInner;return e.cards.forEach((function(t,n){var s=n,r=Object.keys(e.cardsInner)[s];a[r]=t})),Object(x.a)(Object(x.a)({},e),{},{cardsInner:a});case I:return Object(x.a)(Object(x.a)({},e),{},{gameComplited:!0});case A:return Object(x.a)(Object(x.a)({},e),{},{cardsInner:Object(x.a)(Object(x.a)({},e.cardsInner),t.cards)});default:return e}},E=Object(b.b)((function(e){return{pytnashki:e.pytnashki}}),(function(e){return{playAgain:function(){e({type:k})},gameResult:function(){e({type:I})},initInner:function(){e({type:L})},moveCard:function(t){e(function(e){return{type:A,cards:e}}(t))}}}))((function(e){return Object(l.jsx)(y,{pytnashki:e.pytnashki,playAgain:e.playAgain,gameResult:e.gameResult,initInner:e.initInner,moveCard:e.moveCard})})),T=a(24),M=function(e){return Object(l.jsxs)("div",{className:"result",children:[Object(l.jsx)("p",{className:"result__text",children:"\u0422\u044b \u043f\u0440\u043e\u0448\u0435\u043b \u0438\u0433\u0440\u0443"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"again",onClick:function(){return e.playAgain(),void e.rebutGame()},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e."}),Object(l.jsx)(c.b,{to:"/",children:"home"})]})]})};function G(e){var t="../cards/"+e.card+".png";return Object(l.jsx)("div",{className:"item",children:Object(l.jsxs)("div",{className:"flipper",children:[Object(l.jsx)("div",{className:"front"}),Object(l.jsx)("div",{className:"back",children:Object(l.jsx)("img",{className:"card","data-number":e.card,src:t,alt:""})})]})})}var w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={sec:0,min:0,cards:[],couple:[],mistakes:0,bestTime:null,bestMistakes:null},n.list=s.a.createRef(),n.props.playAgain(),n}return Object(h.a)(a,[{key:"timer",value:function(){var e=this;this.timerID=setInterval((function(){59===e.state.sec&&e.setState({sec:0,min:e.state.min+1}),e.setState({sec:e.state.sec+1})}),1e3)}},{key:"shouldComponentUpdate",value:function(e,t,a){return e.memoryGame.gameComplited?((null===this.state.bestMistakes||this.state.bestMistakes>this.state.mistakes&&60*this.state.bestTime[0]+this.state.bestTime[1]>60*this.state.min+this.state.sec)&&this.setState({bestTime:[this.state.min,this.state.sec],bestMistakes:this.state.mistakes}),console.log(this.state),!0):e.memoryGame.gameStarted?this.state!==t||this.props!==e&&(this.setState({sec:0,min:0,cards:[],couple:[],mistakes:0,timer:!0}),!0):(e.gameStarted(),this.timer(),!0)}},{key:"flip",value:function(e){var t=this;if("front"===e.target.className){var a=e.target.parentElement.childNodes[1].innerHTML;this.state.cards.every((function(t){return t[0]!==e.target}))&&this.setState({cards:[].concat(Object(T.a)(this.state.cards),[[e.target,a]])}),this.state.cards.forEach((function(n){n[1]===a&&n[0]!==e.target&&t.setState({couple:[].concat(Object(T.a)(t.state.couple),[a])})}));for(var n=[],s=0;s<16;s++)e.target.parentNode.parentNode.parentNode.childNodes[s].childNodes[0].classList.contains("active")&&n.push(s);if(1===n.length||0===n.length){e.target.parentNode.classList.add("active"),n=[];for(var r=0;r<16;r++)e.target.parentNode.parentNode.parentNode.childNodes[r].childNodes[0].classList.contains("active")&&n.push(r)}if(2===n.length){var i=e.target.parentNode.parentNode.parentNode.childNodes[n[0]].childNodes[0].childNodes[1],c=e.target.parentNode.parentNode.parentNode.childNodes[n[1]].childNodes[0].childNodes[1];if(i.innerHTML===c.innerHTML){var o=i.childNodes[0].getAttribute("data-number"),l=new Audio;l.volume=.5,l.src="../audio/".concat(o,".mp3"),l.autoplay=!0,e.target.parentNode.parentNode.parentNode.childNodes[n[0]].childNodes[0].classList.add("done"),e.target.parentNode.parentNode.parentNode.childNodes[n[0]].childNodes[0].classList.remove("active"),e.target.parentNode.parentNode.parentNode.childNodes[n[1]].childNodes[0].classList.add("done"),e.target.parentNode.parentNode.parentNode.childNodes[n[1]].childNodes[0].classList.remove("active")}else this.state.couple.forEach((function(e){e!==i.innerHTML&&e!==c.innerHTML||t.setState({mistakes:t.state.mistakes+1})})),setTimeout((function(){e.target.parentNode.parentNode.parentNode.childNodes[n[0]].childNodes[0].classList.remove("active"),e.target.parentNode.parentNode.parentNode.childNodes[n[1]].childNodes[0].classList.remove("active")}),800)}this.countDone(e)}}},{key:"countDone",value:function(e){for(var t=0,a=0;a<16;a++)e.target.parentNode.parentNode.parentNode.childNodes[a].childNodes[0].classList.contains("done")&&t++;16===t&&(this.props.gameResult(),this.setState({timer:!1}),clearInterval(this.timerID))}},{key:"rebutGame",value:function(){this.list.current.childNodes.forEach((function(e){return e.childNodes[0].className="flipper"}))}},{key:"componentWillUnmount",value:function(){this.props.gameStarted(),clearInterval(this.timerID)}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"time",children:[Object(l.jsx)("span",{children:"\u0412\u0440\u0435\u043c\u044f"}),Object(l.jsxs)("span",{children:[this.state.min,":"]}),Object(l.jsx)("span",{children:this.state.sec<10?"0"+this.state.sec:this.state.sec})]}),this.props.memoryGame.gameComplited?Object(l.jsx)(M,{playAgain:this.props.playAgain,rebutGame:this.rebutGame.bind(this)}):null,Object(l.jsx)("ul",{className:"list list--game",ref:this.list,onClick:function(t){return e.flip(t)},children:this.props.memoryGame.card.map((function(e,t){return Object(l.jsx)(G,{card:e},t)}))}),Object(l.jsxs)("div",{className:"mistakes",children:[Object(l.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0438"}),Object(l.jsxs)("span",{children:[" ",this.state.mistakes]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:this.state.bestTime}),Object(l.jsxs)("span",{children:[" ",this.state.bestMistakes]})]}),Object(l.jsx)(c.b,{className:"home-main",exact:!0,to:"/",children:"home"})]})}}]),a}(s.a.Component),D="PLAY_AGAIN3434",R="GAME__COMPLITED",H="GAME__STARTED",F={card:[3,2,7,4,3,6,1,5,4,1,7,2,8,8,6,5].sort((function(){return Math.random()-.5})),gameComplited:!1,gameStarted:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(x.a)(Object(x.a)({},e),{},{card:e.card.sort((function(){return Math.random()-.5})),gameComplited:!1});case R:return Object(x.a)(Object(x.a)({},e),{},{gameComplited:!0,gameStarted:!1});case H:return Object(x.a)(Object(x.a)({},e),{},{gameStarted:!e.gameStarted});default:return e}},P=Object(b.b)((function(e){return{memoryGame:e.memoryGame}}),(function(e){return{playAgain:function(){e({type:D})},gameResult:function(){e({type:R})},gameStarted:function(){e({type:H})}}}))((function(e){return Object(l.jsx)(w,{memoryGame:e.memoryGame,playAgain:e.playAgain,gameResult:e.gameResult,gameStarted:e.gameStarted})}));var J=function(){return Object(l.jsx)("div",{className:"main",children:Object(l.jsx)(c.a,{basename:"/GamesReact",children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/memorygame/",render:function(){return Object(l.jsx)(P,{})}}),Object(l.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(l.jsx)(d,{})}}),Object(l.jsx)(o.b,{path:"/pytnashki/",render:function(){return Object(l.jsx)(E,{})}}),Object(l.jsx)(o.b,{path:"/witcher/",render:function(){return Object(l.jsx)(j,{})}})]})})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))},V=a(25),B=Object(V.a)({memoryGame:U,pytnashki:_}),Y=Object(V.b)(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window.store=Y;var W=Y;i.a.render(Object(l.jsx)(b.a,{store:W,children:Object(l.jsx)(J,{})}),document.getElementById("root")),X()}},[[39,1,2]]]);
//# sourceMappingURL=main.8b2157c1.chunk.js.map